# V3 - SaaS MVP (모듈화 + 워커 분리)

## 프로젝트 개요

V2 셀러앱을 SaaS화하기 위한 MVP 버전입니다. 코드 관리성을 위한 모듈 분리와 트래픽 급증에 대비한 워커 분리 구조로 설계했습니다.

## 아키텍처 설계

### 1차 분리: 모듈 단위 분리 (논리적)
```
┌─────────────────────────────────────────────────────────┐
│                   단일 애플리케이션                       │
├─────────────┬─────────────┬─────────────┬─────────────┤
│   세팅 모듈  │ 로그인 모듈  │ 소싱 모듈   │ 가공 모듈    │
│  (Settings) │   (Auth)    │  (Sourcing) │ (Processing)│
│             │             │             │             │
│  • DB 중계  │  • DB 중계  │• 데이터 수집 │• 데이터 변환 │
│  • 설정 관리 │• 인증 처리  │• 외부 API   |• 비즈니스 로직│
└─────────────┴─────────────┴─────────────┴─────────────┘
```

### 2차 분리: 레이어드 아키텍처 (각 모듈 내부)
```
┌─────────────────────────────────────────────────────────┐
│                    라우터 레이어                         │
│                 (Controller Layer)                      │
├─────────────────────────────────────────────────────────┤
│                    서비스 레이어                         │
│                  (Service Layer)                        │
├─────────────────────────────────────────────────────────┤
│                  리포지토리 레이어                       │
│                (Repository Layer)                       │
└─────────────────────────────────────────────────────────┘
```

### 3차 분리: 워커 시스템 (트래픽 방어)
```
┌─────────────────┐    Redis Queue    ┌─────────────────┐
│   메인 서버      │ ──────────────── │   별도 워커들    │
│                 │                  │                  │
│ • 빠른 응답 유지 │                  │ • 무거운 작업    │
│ • 요청 큐 적재   │                  │ • 시간 소모 작업 │
│ • DB 중계       │                  │ • 외부 API 호출  │
│ • 결과 반환     │                  │ • GPU 연산       │
└─────────────────┘                  └─────────────────┘
```

## 기술 스택

- **아키텍처**: 모듈화된 모놀리식 + 워커 분리
- **큐 시스템**: Redis
- **데이터베이스**: MySQL

## 설계 목적

### 트래픽 급증 방어
- **메인 서버 보호**: 무거운 작업을 워커로 분리해 서버 안정성 확보
- **응답성 유지**: DB 중계와 큐 적재만으로 빠른 응답
- **큐 버퍼링**: 급작스런 요청 증가 시 Redis 큐로 완충

### 코드 관리성
- **모듈별 분리**: 기능별로 코드 정리
- **레이어 분리**: 라우터-서비스-DB 역할 구분
- **단순한 배포**: 여전히 하나의 애플리케이션으로 배포

### 워커 분리 기준
- **연산 시간이 긴 작업**: 이미지 처리, AI 모델
- **외부 의존성**: API 호출, 네트워크 대기
- **Rate Limit 대상**: 외부 서비스 제한에 영향받는 작업

## 모듈 구성

### 메인 애플리케이션
- **세팅 모듈**: 사용자 설정 (DB 중계 위주)
- **로그인 모듈**: 인증 처리 (DB 중계 위주)  
- **소싱 모듈**: 상품 데이터 수집
- **가공 모듈**: 데이터 변환 및 처리

### 워커 시스템
- [**이미지 번역 파이프라인**](../v3_image_translator/README.md) - GPU 연산 워커 (Archived)

## V2에서의 개선점

| 구분 | V2 | V3 |
|------|----|----|
| **코드 구조** | 한 파일에 모든 기능 | 모듈별 분리 |
| **트래픽 처리** | 무거운 작업 시 서버 블록 | 워커로 분리하여 안정성 확보 |
| **확장성** | 코드 수정 어려움 | 모듈별 독립 개발 가능 |
| **배포** | 단일 배포 | 단일 배포 + 필요시 워커 추가 |

## 한계

- 여전히 모놀리식 구조의 제약
- 워커 수동 관리 필요
- 실제 대규모 트래픽 검증 부족

---

*V2의 SaaS 전환 가능성을 검증하기 위한 실험적 프로젝트* 
