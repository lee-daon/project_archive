# Loopton Web App v0.0.0

## 소개

이 문서는 Loopton 웹 애플리케이션의 첫 번째 정식 출시 버전(v0.0.0)에 대한 개요를 제공합니다. 본 버전은 홈페이지와 앱 페이지(`app.loopton.com`), 그리고 이들을 지원하는 백엔드 시스템으로 구성되어 있습니다. 특히 비동기 처리와 일부분의 마이크로서비스를 도입하여 서버 안정성과 확장성을 확보하는 데 중점을 두었습니다.

## 아키텍처

Loopton의 백엔드 시스템은 여러 독립적인 컴포넌트가 Redis를 통해 통신하는 이벤트 기반 아키텍처로 설계되었습니다. 메인서버는 여러 서비스 간의 요청과 클라이언트 간의 요청을 중계하는 역할을 하며, 무거운 연산이나 외부 서비스와의 ratelimit이 중요한 경우 @/saas_Pj/backend/worker로 빼서 서비스의 안정성을 확보했습니다.

## 서비스 구성

### `@/saas_Pj` (메인 중계 서버+보조 워커들)
-   애플리케이션의 핵심 비즈니스 로직을 처리하는 중앙 서버입니다.
-   Redis를 메시지 브로커로 사용하여 다른 워커들과 작업을 주고받으며, 전체 시스템의 비동기 처리를 조율합니다.

### `@/imageDownloader` (이미지 다운로더 워커)
-   Cloudflare의 서버리스 워커(Serverless Worker)로 구현되었습니다.
-   외부 이미지를 Cloudflare R2 스토리지에 효율적으로 저장하고 호스팅하는 역할과, 하나의 프록시로서의 역할을 담당합니다.

### `@/trackingWorkers` (트래킹 워커)
-   사용자 행동 추적 및 데이터 분석을 위한 독립적인 서비스입니다.
-   트래킹 URL을 관리하며, 데이터는 Cloudflare D1 (SQLite 기반)에 저장됩니다.

### `@/image_translate_pipeline_v3` (이미지 번역 파이프라인)
-   GPU 가속이 필요한 이미지 번역 작업을 전문적으로 처리하기 위해 별도의 GPU 서버로 분리되었습니다.
-   메인서버->redis->이미지번역워커->redis->메인서버로 통신합니다.

## 인프라 구성

-   **Cloudflare R2**: 이미지 파일 저장을 위한 오브젝트 스토리지
-   **Cloudflare Workers**: `imageDownloader`와 `trackingWorkers`를 위한 서버리스 컴퓨팅 환경
-   **GPU 서버**: 이미지 번역 파이프라인 실행 환경
-   **메인 서버**: 비동기 큐 기반의 메인 워커 실행 환경
-   **Redis 서버**: 컴포넌트 간 통신을 위한 메시지 큐 및 캐시
-   **MySQL 서버**: 주요 애플리케이션 데이터 저장을 위한 관계형 데이터베이스
-   **Cloudflare D1**: 트래킹 데이터 저장을 위한 SQLite 기반 데이터베이스
